<div class="d-flex justify-content-center option">
    <div class="d-flex justify-content-center align-items-center gap-3">
        <button class="type" [ngClass]="current == i ? 'active' : ''" *ngFor="let type of results; index as i">
            {{ type }}
        </button>
    </div>
</div>
<section class="card card-body mt-4">
    <div *ngFor="let electoralResult of electoralResults">
        <header class="p-3">
            <h5 class="text-primary">Commune: <b class="text-black">{{ electoralResult.name | formatName }}</b></h5>
            <table class="table table-borderless mt-4">
                <tbody>
                    <tr>
                        <td>
                            <h5 class="text-primary">Inscrits:</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{electoralResult.registeredVoters | formatNumber}}</b>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h5 class="text-primary">Blancs:</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{electoralResult.blankVotes | formatNumber}}</b>
                        </td>
                        <td>
                            <h5 class="text-danger">Soit</h5>
                        </td>
                        <td class="text-end"><b class="text-black">{{ (electoralResult.blankVotes * 100) / electoralResult.validVotes | formatNumber }}%</b></td>
                    </tr>
                    <tr>
                        <td>
                            <h5 class="text-primary">Nuls:</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{electoralResult.nullVotes | formatNumber}}</b>
                        </td>
                        <td>
                            <h5 class="text-danger">Soit</h5>
                        </td>
                        <td class="text-end"><b class="text-black">{{ (electoralResult.nullVotes * 100) /
                            electoralResult.validVotes | formatNumber }}%</b></td>
                    </tr>
                    <tr>
                        <td>
                            <h5 class="text-primary">Exprimés:</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{electoralResult.validVotes | formatNumber}}</b>
                        </td>
                        <td>
                            <h5 class="text-danger">Soit</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{ (electoralResult.validVotes * 100) /
                                (electoralResult.validVotes + electoralResult.blankVotes + electoralResult.nullVotes) | formatNumber }}%</b>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h5 class="text-primary">Total des voix:</h5>
                        </td>
                        <td class="text-end">
                            <b class="text-black">{{(electoralResult.validVotes + electoralResult.blankVotes +
                                electoralResult.nullVotes) | formatNumber}}</b>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h5 class="text-center text-danger">Taux de participation: <b class="text-black text-end">{{ (electoralResult.validVotes + electoralResult.blankVotes + electoralResult.nullVotes)
                * 100 /
                electoralResult.registeredVoters | formatNumber }}%</b></h5>
        </header>
        <main class="container-fluid mt-2">
            <div class="row mb-3 table-header">
                <div class="col-2 text-center">Numéro</div>
                <div class="col-6 text-center">Candidats</div>
                <div class="col-2 text-center">Voix</div>
                <div class="col-2 text-center">%</div>
            </div>
            <div class="row mb-1 table-content align-items-center" *ngFor="let detail of electoralResult.details">
                <div class="col-2 text-center fw-bold">{{detail.candidateNumber}}</div>
                <div class="col-6">
                    <img src="{{ detail.imagePath | formatPublicUrl }}" alt=""
                        style="height: 60px; width: 60px; border-radius: 50%;">
                    <span class="ms-3 fw-bold">{{detail.candidateInformation + ' (' + detail.politicalEntity +
                        ')'}}</span>
                </div>
                <div class="col-2 text-end fw-bold">{{detail.candidateVotes}}</div>
                <div class="col-2 text-end fw-bold">{{ (detail.candidateVotes * 100 /
                    electoralResult.validVotes).toString().slice(0, 5) }} %</div>
            </div>
            <div class="row mt-2">
                <div class="col-2"></div>
                <div class="col-6 text-end fw-bold text-danger" style="font-size: larger;">Total</div>
                <div class="col-2 text-end fw-bold" style="font-size: larger;">{{ electoralResult.validVotes }}</div>
                <div class="col-2"></div>
            </div>
            <footer class="mt-5 d-flex gap-3 justify-content-center align-items-center">
                <i class="bi bi-arrow-left-circle"></i>
                <p class="m-0 fw-lighter">Page <b><span class="text-primary fw-bold">1</span></b> sur
                    1</p>
                <i class="bi bi-arrow-right-circle"></i>
            </footer>
        </main>
    </div>
</section>