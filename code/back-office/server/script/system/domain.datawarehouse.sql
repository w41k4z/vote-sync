CREATE TABLE bv_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_bv NUMBER NOT NULL,
   code_bv CHAR(12) NOT NULL,
   nom_bv VARCHAR2(50) NOT NULL,
   id_fokontany NUMBER NOT NULL,
   nom_fokontany VARCHAR2(50) NOT NULL,
   id_commune NUMBER NOT NULL,
   nom_commune VARCHAR2(50) NOT NULL,
   id_municipalite NUMBER NOT NULL,
   nom_municipalite VARCHAR2(50) NOT NULL,
   id_district_municipal NUMBER NOT NULL,
   nom_district_municipal VARCHAR2(50) NOT NULL,
   id_district NUMBER NOT NULL,
   nom_district VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importe NUMBER NOT NULL, -- 0: via app, 1: importÃ©
   nombre_alertes NUMBER NOT NULL,
   nom_operateur VARCHAR2(50),
   prenom_operateur VARCHAR2(50),
   contact_operateur CHAR(10),
   nom_membre_bv VARCHAR2(50),
   prenom_membre_bv VARCHAR2(50),
   contact_membre_bv CHAR(10),
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_bv) REFERENCES bv(id),
   FOREIGN KEY(id_fokontany) REFERENCES fokontany(id),
   FOREIGN KEY(id_commune) REFERENCES communes(id),
   FOREIGN KEY(id_municipalite) REFERENCES municipalites(id),
   FOREIGN KEY(id_district_municipal) REFERENCES districts(id),
   FOREIGN KEY(id_district) REFERENCES districts(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_bv_resultat_provisoire UNIQUE(id_election, id_bv),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importe BETWEEN 0 AND 1 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE bv_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES bv_resultats_provisoires(id),
   CONSTRAINT unique_bv_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


CREATE TABLE fokontany_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_fokontany NUMBER NOT NULL,
   code_fokontany CHAR(8) NOT NULL,
   nom_fokontany VARCHAR2(50) NOT NULL,
   id_commune NUMBER NOT NULL,
   nom_commune VARCHAR2(50) NOT NULL,
   id_municipalite NUMBER NOT NULL,
   nom_municipalite VARCHAR2(50) NOT NULL,
   id_district_municipal NUMBER NOT NULL,
   nom_district_municipal VARCHAR2(50) NOT NULL,
   id_district NUMBER NOT NULL,
   nom_district VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_fokontany) REFERENCES fokontany(id),
   FOREIGN KEY(id_commune) REFERENCES communes(id),
   FOREIGN KEY(id_municipalite) REFERENCES municipalites(id),
   FOREIGN KEY(id_district_municipal) REFERENCES districts(id),
   FOREIGN KEY(id_district) REFERENCES districts(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_fokontany_resultat_provisoire UNIQUE(id_election, id_fokontany),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE fokontany_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES fokontany_resultats_provisoires(id),
   CONSTRAINT unique_fokontany_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


CREATE TABLE communes_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_commune NUMBER NOT NULL,
   code_commune CHAR(6) NOT NULL,
   nom_commune VARCHAR2(50) NOT NULL,
   id_district NUMBER NOT NULL,
   nom_district VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_commune) REFERENCES communes(id),
   FOREIGN KEY(id_district) REFERENCES districts(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_commune_resultat_provisoire UNIQUE(id_election, id_commune),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE communes_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES communes_resultats_provisoires(id),
   CONSTRAINT unique_commune_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


-- municipalite = commune, only for local election
CREATE TABLE municipalites_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_municipalite NUMBER NOT NULL,
   code_municipalite CHAR(6) NOT NULL,
   nom_municipalite VARCHAR2(50) NOT NULL,
   id_district NUMBER NOT NULL,
   nom_district VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_municipalite) REFERENCES municipalites(id),
   FOREIGN KEY(id_district) REFERENCES districts(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_municipalite_resultat_provisoire UNIQUE(id_election, id_municipalite),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE municipalites_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES municipalites_resultats_provisoires(id),
   CONSTRAINT unique_municipalite_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


-- presidential and legislative election only
CREATE TABLE districts_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_district NUMBER NOT NULL,
   code_district CHAR(4) NOT NULL,
   nom_district VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_district) REFERENCES districts(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_district_resultat_provisoire UNIQUE(id_election, id_district),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE districts_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES districts_resultats_provisoires(id),
   CONSTRAINT unique_district_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


-- presidential election only
CREATE TABLE regions_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_region NUMBER NOT NULL,
   code_region CHAR(2) NOT NULL,
   nom_region VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_region) REFERENCES regions(id),
   CONSTRAINT unique_region_resultat_provisoire UNIQUE(id_election, id_region),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE regions_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES regions_resultats_provisoires(id),
   CONSTRAINT unique_region_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


-- presidential election only
CREATE TABLE provinces_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   id_province CHAR(1) NULL,
   code_province CHAR(1) NULL,
   nom_province VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   FOREIGN KEY(id_province) REFERENCES provinces(id),
   CONSTRAINT unique_province_resultat_provisoire UNIQUE(id_election, id_province),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE provinces_details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES provinces_resultats_provisoires(id),
   CONSTRAINT unique_province_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);


-- presidential election only
CREATE TABLE resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_pays CHAR(1) NOT NULL,
   code_pays CHAR(1) NOT NULL,
   nom_pays VARCHAR2(50) NOT NULL,
   id_election NUMBER NOT NULL,
   election VARCHAR2(50) NOT NULL,
   inscrits NUMBER NOT NULL,
   homme_moins_36 NUMBER NOT NULL,
   femme_moins_36 NUMBER NOT NULL,
   homme_36_plus NUMBER NOT NULL,
   femme_36_plus NUMBER NOT NULL,
   handicapes NUMBER NOT NULL,
   malvoyants NUMBER NOT NULL,
   blancs NUMBER NOT NULL,
   nuls NUMBER NOT NULL,
   exprimes NUMBER NOT NULL,
   importes NUMBER NOT NULL,
   nombre_bv NUMBER NOT NULL,
   nombre_total_bv NUMBER NOT NULL,
   nombre_alertes NUMBER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_election) REFERENCES elections(id),
   CONSTRAINT unique_resultat_provisoire UNIQUE(id_election),
   CHECK (
      homme_moins_36 >= 0 AND
      femme_moins_36 >= 0 AND
      homme_36_plus >= 0 AND
      femme_36_plus >= 0 AND
      handicapes >= 0 AND
      malvoyants >= 0 AND
      blancs >= 0 AND
      nuls >= 0 AND
      exprimes >= 0 AND
      importes >= 0 AND
      nombre_bv >= 0 AND
      nombre_total_bv >= 0 AND
      nombre_alertes >= 0
   ),
   CHECK (
      homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus <= inscrits
   ),
   CHECK (
      handicapes BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus AND
      malvoyants BETWEEN 0 AND homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      blancs + nuls <= homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus
   ),
   CHECK (
      exprimes = homme_moins_36 + femme_moins_36 + homme_36_plus + femme_36_plus - blancs - nuls
   )
);
CREATE TABLE details_resultats_provisoires (
   id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
   id_resultat_provisoire NUMBER NOT NULL,
   numero_candidat NUMBER NOT NULL,
   information_candidat VARCHAR2(100) NOT NULL,
   nom_entite_politique VARCHAR2(50) NOT NULL,
   description_entite_politique VARCHAR2(100) NOT NULL,
   voix_candidat NUMBER NOT NULL,
   chemin_photo_candidat VARCHAR2(100),
   PRIMARY KEY(id),
   FOREIGN KEY(id_resultat_provisoire) REFERENCES resultats_provisoires(id),
   CONSTRAINT unique_details_resultat_provisoire UNIQUE(id_resultat_provisoire, numero_candidat)
);